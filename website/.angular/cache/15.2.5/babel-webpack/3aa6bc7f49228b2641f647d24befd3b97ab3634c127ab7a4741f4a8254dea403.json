{"ast":null,"code":"import { NgZone } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { ContactFeedService } from '../shared/services/contact-feed.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"../shared/services/contact-feed.service\";\nimport * as i3 from \"@angular/material/button\";\nimport * as i4 from \"@angular/material/list\";\nimport * as i5 from \"@angular/material/progress-bar\";\nimport * as i6 from \"@angular/common\";\nfunction ContactFeedDialogComponent_mat_list_3_mat_list_item_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-list-item\")(1, \"h4\", 7);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 8);\n    i0.ɵɵtext(4, \"at Wed 12:00\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    var update_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(update_r3);\n  }\n}\nfunction ContactFeedDialogComponent_mat_list_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-list\");\n    i0.ɵɵtemplate(1, ContactFeedDialogComponent_mat_list_3_mat_list_item_1_Template, 5, 1, \"mat-list-item\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    var ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.updates);\n  }\n}\nfunction ContactFeedDialogComponent_mat_progress_bar_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-progress-bar\", 9);\n  }\n}\nvar ContactFeedDialogComponent = /** @class */function () {\n  function ContactFeedDialogComponent(dialogRef, feed, zone, data) {\n    this.dialogRef = dialogRef;\n    this.feed = feed;\n    this.zone = zone;\n    this.updates = [];\n    this.closeDisabled = true;\n    this.name = data.name;\n  }\n  ContactFeedDialogComponent.prototype.ngOnInit = function () {\n    var _this = this;\n    /*\n     This version runs inside the Angular zone, and will block Protractor testing indefinitely.\n     this.sub = this.feed.getFeed().subscribe((x) => {\n       this.updates.push(x);\n       if (this.updates.length > 5) {\n         this.updates.shift();\n       }\n     });\n     */\n    this.closeDisabled = false;\n    this.zone.runOutsideAngular(function () {\n      _this.sub = _this.feed.getFeed().subscribe(function (x) {\n        _this.zone.run(function () {\n          _this.updates.push(x);\n          if (_this.updates.length > 4) {\n            _this.updates.shift();\n          }\n        });\n      });\n    });\n  };\n  ContactFeedDialogComponent.prototype.ngOnDestroy = function () {\n    this.sub.unsubscribe();\n  };\n  ContactFeedDialogComponent.ɵfac = function ContactFeedDialogComponent_Factory(t) {\n    return new (t || ContactFeedDialogComponent)(i0.ɵɵdirectiveInject(i1.MatDialogRef), i0.ɵɵdirectiveInject(i2.ContactFeedService), i0.ɵɵdirectiveInject(i0.NgZone), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA, 8));\n  };\n  ContactFeedDialogComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ContactFeedDialogComponent,\n    selectors: [[\"app-contact-feed\"]],\n    decls: 11,\n    vars: 5,\n    consts: [[\"mat-dialog-title\", \"\"], [4, \"ngIf\"], [\"color\", \"secondary\", \"mode\", \"indeterminate\", 4, \"ngIf\"], [1, \"buttons\"], [\"mat-raised-button\", \"\", \"mat-dialog-close\", \"\", 3, \"disabled\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 1, \"follow\", 3, \"disabled\"], [4, \"ngFor\", \"ngForOf\"], [\"mat-line\", \"\"], [\"mat-line\", \"\", 1, \"update-time\"], [\"color\", \"secondary\", \"mode\", \"indeterminate\"]],\n    template: function ContactFeedDialogComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h2\", 0);\n        i0.ɵɵtext(1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"mat-dialog-content\");\n        i0.ɵɵtemplate(3, ContactFeedDialogComponent_mat_list_3_Template, 2, 1, \"mat-list\", 1);\n        i0.ɵɵtemplate(4, ContactFeedDialogComponent_mat_progress_bar_4_Template, 1, 0, \"mat-progress-bar\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"mat-dialog-actions\")(6, \"div\", 3)(7, \"button\", 4);\n        i0.ɵɵtext(8, \"Close\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"button\", 5);\n        i0.ɵɵtext(10, \"Follow\");\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\"Latest posts from \", ctx.name, \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.updates.length > 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.updates.length == 0);\n        i0.ɵɵadvance(3);\n        i0.ɵɵpropertyInterpolate(\"disabled\", ctx.closeDisabled);\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate(\"disabled\", ctx.updates.length < 2);\n      }\n    },\n    dependencies: [i3.MatButton, i1.MatDialogClose, i1.MatDialogTitle, i1.MatDialogContent, i1.MatDialogActions, i4.MatList, i4.MatListItem, i5.MatProgressBar, i6.NgForOf, i6.NgIf],\n    styles: [\".messages[_ngcontent-%COMP%]{text-align:center}.update-time[_ngcontent-%COMP%]{color:gray}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}\"]\n  });\n  return ContactFeedDialogComponent;\n}();\nexport { ContactFeedDialogComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}