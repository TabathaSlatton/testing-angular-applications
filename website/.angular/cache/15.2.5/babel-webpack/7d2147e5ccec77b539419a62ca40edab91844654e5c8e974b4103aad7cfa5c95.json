{"ast":null,"code":"import { HttpHeaders, HttpClient } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nvar ContactService = /** @class */function () {\n  function ContactService(http) {\n    this.http = http;\n    this.contactsUrl = 'app/contacts';\n    this.headers = new HttpHeaders({\n      'Content-Type': 'application/json'\n    });\n  }\n  ContactService.prototype.getContacts = function () {\n    return this.http.get(this.contactsUrl).toPromise()\n    //  .then(response => response.json().data as Contact)\n    .then(function (resp) {\n      return resp;\n    }).catch(this.handleError);\n  };\n  ContactService.prototype.getContact = function (id) {\n    return this.getContacts().then(function (contacts) {\n      return contacts.find(function (contact) {\n        return contact.id === id;\n      });\n    });\n  };\n  ContactService.prototype.save = function (contact) {\n    if (contact.id) {\n      return this.put(contact);\n    }\n    return this.post(contact);\n  };\n  ContactService.prototype.new = function (contact) {\n    return this.post(contact);\n  };\n  ContactService.prototype.delete = function (contact) {\n    var url = \"\".concat(this.contactsUrl, \"/\").concat(contact.id);\n    return this.http.delete(url, {\n      headers: this.headers\n    }).toPromise().then(function () {\n      return null;\n    }).catch(this.handleError);\n  };\n  ContactService.prototype.post = function (contact) {\n    return this.http.post(this.contactsUrl, JSON.stringify(contact), {\n      headers: this.headers\n    }).toPromise().then(function (res) {\n      return console.log(\"***from contact service: \", res);\n    }).catch(this.handleError);\n  };\n  ContactService.prototype.put = function (contact) {\n    var url = \"\".concat(this.contactsUrl, \"/\").concat(contact.id);\n    return this.http.put(url, JSON.stringify(contact), {\n      headers: this.headers\n    }).toPromise().then(function () {\n      return contact;\n    }).catch(this.handleError);\n  };\n  ContactService.prototype.handleError = function (error) {\n    console.error('An error occurred', error);\n    return Promise.reject(error.message || error);\n  };\n  ContactService.ɵfac = function ContactService_Factory(t) {\n    return new (t || ContactService)(i0.ɵɵinject(i1.HttpClient));\n  };\n  ContactService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: ContactService,\n    factory: ContactService.ɵfac\n  });\n  return ContactService;\n}();\nexport { ContactService };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}